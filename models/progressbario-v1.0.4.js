function Message(a,b,c){this._setMessagesContainer(a);this._setYOffset(c);this._createDefaultAttributes();this._setUserAttributes(b)}Message.prototype.getMessageText=function(){return this.message.getText()};Message.prototype.getMessageFontColor=function(){return this.message.getFill()};Message.prototype.getMessageFontFamily=function(){return this.message.getFontFamily()};Message.prototype.getMessageFontSize=function(){return this.message.getFontSize()}; Message.prototype.getMessageLabelFontColor=function(){return this.messageLabel.getFill()};Message.prototype.getMessageLabelFontFamily=function(){return this.messageLabel.getFontFamily()};Message.prototype.getMessageLabelFontSize=function(){return this.messageLabel.getFontSize()};Message.prototype.getMessageLabelText=function(){return this.messageLabel.getText()};Message.prototype.getMessageLabelXOffset=function(){return this.messageLabel.getX()};Message.prototype.getMessageLabelYOffset=function(){return this.messageLabel.getY()}; Message.prototype.getMessageXOffset=function(){return this.message.getX()};Message.prototype.getMessageYOffset=function(){return this.message.getY()};Message.prototype.setMessageText=function(a){this.message.setText(a)};Message.prototype.setMessageFontColor=function(a){this.message.setFill(a)};Message.prototype.setMessageFontFamily=function(a){this.message.setFontFamily(a)};Message.prototype.setMessageFontSize=function(a){this.message.setFontSize(a)};Message.prototype.setMessageLabelFontColor=function(a){this.messageLabel.setFill(a)}; Message.prototype.setMessageLabelFontFamily=function(a){this.messageLabel.setFontFamily(a)};Message.prototype.setMessageLabelFontSize=function(a){this.messageLabel.setFontSize(a)};Message.prototype.setMessageLabelText=function(a){this.messageLabel.setText(a)};Message.prototype.setMessageLabelXOffset=function(a){this.messageLabel.setX(a)};Message.prototype.setMessageLabelYOffset=function(a){this.messageLabel.setY(a)};Message.prototype.setMessageText=function(a){this.message.setText(a)}; Message.prototype.setMessageXOffset=function(a){this.message.setX(a)};Message.prototype.setMessageYOffset=function(a){this.message.setY(a)};Message.prototype._createDefaultAttributes=function(){this._createDefaultMessage();this._createDefaultMessageLabel()}; Message.prototype._createDefaultMessage=function(){var a=this.messagesContainer.getMessageDefaultFontSize();this.message=new Kinetic.Text({x:this.messagesContainer.getMessageDefaultMarginTop(),y:this.messagesContainer.getMessageDefaultMarginLeft()+a,text:this.messagesContainer.getMessageDefaultText(),fontSize:a,fontFamily:this.messagesContainer.getMessageDefaultFontFamily(),fill:this.messagesContainer.getMessageDefaultFontColor()});this.messagesContainer.messageGroup.add(this.message)}; Message.prototype._createDefaultMessageLabel=function(){this.messageLabel=new Kinetic.Text({x:this.messagesContainer.getMessageDefaultMarginTop(),y:this.messagesContainer.getMessageDefaultMarginLeft(),text:this.messagesContainer.getMessageDefaultLabelText(),fontSize:this.messagesContainer.getMessageDefaultFontSize(),fontFamily:this.messagesContainer.getMessageDefaultFontFamily(),fill:this.messagesContainer.getMessageDefaultFontColor()});this.messagesContainer.messageGroup.add(this.messageLabel)}; Message.prototype._setMessagesContainer=function(a){this.messagesContainer=a}; Message.prototype._setUserAttributes=function(a){void 0!=a&&(void 0!==a.fontSize&&(this.setMessageFontSize(a.fontSize),this.setMessageLabelFontSize(a.fontSize)),void 0!==a.x&&(this.setMessageXOffset(a.x),this.setMessageLabelXOffset(a.x)),void 0!==a.y&&(this.setMessageLabelYOffset(a.y+this.yOffset),this.setMessageYOffset(a.y+this.getMessageLabelFontSize()+this.yOffset)),void 0!==a.initialText&&this.setMessageText(a.initialText),void 0!==a.fontFamily&&(this.setMessageFontFamily(a.fontFamily),this.setMessageLabelFontFamily(a.fontFamily)), void 0!==a.title&&this.setMessageLabelText(a.title),void 0!==a.fontColor&&(this.setMessageFontColor(a.fontColor),this.setMessageLabelFontColor(a.fontColor)))};Message.prototype._setYOffset=function(a){this.yOffset=a};function MessagesContainer(a,b){this._setProgressbar(a);this._createDefaultAttributes();this._createMapAndMessageGroup();this._createInitialClientMessages(b)}MessagesContainer.prototype.getDefaultFontColor=function(){return"black"};MessagesContainer.prototype.getDefaultFontFamily=function(){return"Calibri"}; MessagesContainer.prototype.getDefaultMarginBottom=function(){return 10};MessagesContainer.prototype.getDefaultMarginLeft=function(){return 10};MessagesContainer.prototype.getDefaultMarginRight=function(){return 10};MessagesContainer.prototype.getDefaultMarginTop=function(){return 10};MessagesContainer.prototype.getDefaultRecommendedSizeConverter=function(){return 0.032};MessagesContainer.prototype.getMessageDefaultFontColor=function(){return this.defaultFontColor}; MessagesContainer.prototype.getMessageDefaultFontFamily=function(){return this.defaultFontFamily};MessagesContainer.prototype.getMessageDefaultFontSize=function(){return this.defaultFontSize};MessagesContainer.prototype.getMessageDefaultLabelText=function(){return this.getMessageDefaultTextLabel()};MessagesContainer.prototype.getMessageDefaultMarginBottom=function(){return this.defaultMarginBottom};MessagesContainer.prototype.getMessageDefaultMarginLeft=function(){return this.defaultMarginLeft}; MessagesContainer.prototype.getMessageDefaultMarginRight=function(){return this.defaultMarginRight};MessagesContainer.prototype.getMessageDefaultMarginTop=function(){return this.defaultMarginTop};MessagesContainer.prototype.getMessageDefaultText=function(){return"Default Text"};MessagesContainer.prototype.getMessageDefaultTextLabel=function(){return"Default Label"};MessagesContainer.prototype.getMessagesMap=function(){return this.messagesMap};MessagesContainer.prototype.getMessageText=function(a){return this.nameToCallback[a](this)}; MessagesContainer.prototype.getRecommendedFontSize=function(){return Math.max(this.progressbar.getStageWidth(),this.progressbar.getStageHeight())*this.getDefaultRecommendedSizeConverter()};MessagesContainer.prototype.addMessage=function(a,b){a&&a.name&&(a.initialText=Math.round(this.getMessageText(a.name)),this.messagesMap[a.name]=new Message(this,a,b))};MessagesContainer.prototype.setMessageDefaultFontColor=function(a){this.defaultFontColor=a}; MessagesContainer.prototype.setMessageDefaultFontFamily=function(a){this.defaultFontFamily=a};MessagesContainer.prototype.setMessageDefaultFontSize=function(a){this.defaultFontSize=a};MessagesContainer.prototype.setMessageDefaultMarginBottom=function(a){this.defaultMarginBottom=a};MessagesContainer.prototype.setMessageDefaultMarginLeft=function(a){this.defaultMarginLeft=a};MessagesContainer.prototype.setMessageDefaultMarginRight=function(a){this.defaultMarginRight=a}; MessagesContainer.prototype.setMessageDefaultMarginTop=function(a){this.defaultMarginTop=a};MessagesContainer.prototype.setMessageText=function(a,b){this.messagesMap[a]&&this.messagesMap[a].setMessageText(b)};MessagesContainer.prototype.updateMessagesText=function(){for(messageName in this.messagesMap)this.messagesMap[messageName].setMessageText(Math.round(this.getMessageText(messageName)))}; MessagesContainer.prototype._createDefaultAttributes=function(){this.setMessageDefaultMarginTop(this.getDefaultMarginTop());this.setMessageDefaultMarginBottom(this.getDefaultMarginBottom());this.setMessageDefaultMarginLeft(this.getDefaultMarginLeft());this.setMessageDefaultMarginRight(this.getDefaultMarginRight());this.setMessageDefaultFontSize(this.getRecommendedFontSize());this.setMessageDefaultFontFamily(this.getDefaultFontFamily());this.setMessageDefaultFontColor(this.getDefaultFontColor());this.nameToCallback= {};this.nameToCallback.percentComplete=function(a){return a.progressbar.getPercentComplete()};this.nameToCallback.inversePercentComplete=function(a){return a.progressbar.getInversePercentComplete()};this.nameToCallback.clientNumMax=function(a){return a.progressbar.getClientNumMax()};this.nameToCallback.clientNumMin=function(a){return a.progressbar.getClientNumMin()};this.nameToCallback.clientNumCurrent=function(a){return a.progressbar.getClientNumCurrent()}}; MessagesContainer.prototype._createInitialClientMessages=function(a){if(void 0!=a)for(var b=0,c=0;c<a.length;c++)void 0!=a[c]&&(this.addMessage(a[c],b),b+=2*a[c].fontSize)};MessagesContainer.prototype._createMapAndMessageGroup=function(){this.messagesMap={};this.messageGroup=new Kinetic.Group({x:this.progressbar.getTopMarginPercent,y:this.progressbar.getLeftMarginPercent,draggable:!1});this.progressbar.shapesLayer.add(this.messageGroup)}; MessagesContainer.prototype._setProgressbar=function(a){this.progressbar=a};function ProgressbarFilling(a,b){this._setProgressbarObject(a);this._createDefaultObjectsAndAttributes();this._setUserAttributes(b);this._setDynamicallyCreatedAttributes()}ProgressbarFilling.prototype.getClientNumCurrent=function(){return this.clientNumCurrent};ProgressbarFilling.prototype.getClientNumFromPercent=function(a){a=Math.abs(a);return Math.round((this.getClientNumMax()-this.getCleintNumMin())*(a/100)+this.getCleintNumMin())}; ProgressbarFilling.prototype.getClientNumMax=function(){return this.clientNumMax};ProgressbarFilling.prototype.getClientNumMin=function(){return this.clientNumMin};ProgressbarFilling.prototype.getClientNumToFillHeight=function(a){a=Math.abs(a);a-=this.getClientNumMin();a*=-1;var b=this.getFillMaxYOffset()-this.getFillMinYOffset(),c=this.getClientNumMax()-this.getClientNumMin();return 0==c?0:a*(b/c)-this.getFillMinYOffset()};ProgressbarFilling.prototype.getCurrentPercent=function(){return this.getPercentFromClientNum(this.getClientNumCurrent())}; ProgressbarFilling.prototype.getDefaultClientNumCurrent=function(){return 50};ProgressbarFilling.prototype.getDefaultClientNumMax=function(){return 100};ProgressbarFilling.prototype.getDefaultClientNumMin=function(){return 0};ProgressbarFilling.prototype.getDefaultFillColor=function(){return"red"};ProgressbarFilling.prototype.getDefaultFillHeight=function(){return 100};ProgressbarFilling.prototype.getDefaultFillName=function(){return"filling"};ProgressbarFilling.prototype.getDefaultFillWidth=function(){return this.progressbarObject.getProgressbarWidth()}; ProgressbarFilling.prototype.getDefaultFillXOffset=function(){return 0};ProgressbarFilling.prototype.getDefaultFillYOffset=function(){return this.progressbarObject.getAdjustedProgressbarHeightMin()};ProgressbarFilling.prototype.getDefaultInitialHeight=function(){return 0};ProgressbarFilling.prototype.getFillColor=function(){return this.fillObj.getFill()};ProgressbarFilling.prototype.getFillHeight=function(){return this.fillObj.getHeight()}; ProgressbarFilling.prototype.getFillMaxYOffset=function(a){return a?this._getFillMaxYOffsetFromImage(a):this.fillMaxYOffset};ProgressbarFilling.prototype.getFillMinYOffset=function(a){return a?this._getFillMinYOffsetFromImage(a):this.fillMinYOffset};ProgressbarFilling.prototype.getFillObject=function(){return this.fillObj};ProgressbarFilling.prototype.getFillWidth=function(){return this.fillObj.getWidth()}; ProgressbarFilling.prototype.getHeightToPercent=function(a){a=Math.abs(a)-Math.abs(this.getFillMinYOffset());return 100*(a/(this.getFillMaxYOffset()-this.getFillMinYOffset()))};ProgressbarFilling.prototype.getInitialHeight=function(){return this.initialHeight};ProgressbarFilling.prototype.getInverseClientNumFromPercent=function(a){a=Math.abs(a);return this.getClientNumMax()-Math.round(this.getClientNumMax()*(a/100))};ProgressbarFilling.prototype.getNameID=function(){return this.fillObj.getName()}; ProgressbarFilling.prototype.getPercent=function(a){return this.getHeightToPercent(a)};ProgressbarFilling.prototype.getPercentFromClientNum=function(a){a=Math.abs(a);return 0==this.getClientNumMax()-this.getClientNumMin()?100:100*((a-this.getClientNumMin())/(this.getClientNumMax()-this.getClientNumMin()))};ProgressbarFilling.prototype.getXOffset=function(){return this.fillObj.getX()};ProgressbarFilling.prototype.getYOffset=function(){return this.fillObj.getY()}; ProgressbarFilling.prototype.addToClientNumCurrent=function(a){a=this.getClientNumCurrent()+a;this._setClientNumCurrent(a);this._clientSetFillHeight(this.getClientNumCurrent())};ProgressbarFilling.prototype.setClientNumCurrent=function(a){this._setClientNumCurrent(a);this._clientSetFillHeight(this.getClientNumCurrent())};ProgressbarFilling.prototype.setClientNumMax=function(a){this._setClientNumMax(a);this._clientSetFillHeight(this.getClientNumCurrent())}; ProgressbarFilling.prototype.setUserAttributes=function(a){this._setUserAttributes(a)};ProgressbarFilling.prototype._getFillMaxYOffsetFromImage=function(a){var b=0;"images/thermometer.png"==a?(a=this.progressbarObject.getProgressbarHeight(),b=397*(a/400)):"images/thermometer3.png"==a?(a=this.progressbarObject.getProgressbarHeight(),b=397*(a/400)):"http://progressbar-io.googlecode.com/files/thermometer3.png"==a&&(a=this.progressbarObject.getProgressbarHeight(),b=397*(a/400));return b}; ProgressbarFilling.prototype._getFillMinYOffsetFromImage=function(a){var b=0;"images/thermometer.png"==a?(a=this.progressbarObject.getProgressbarHeight(),b=105*(a/400)):"images/thermometer3.png"==a?(a=this.progressbarObject.getProgressbarHeight(),b=105*(a/400)):"http://progressbar-io.googlecode.com/files/thermometer3.png"==a&&(a=this.progressbarObject.getProgressbarHeight(),b=105*(a/400));return b}; ProgressbarFilling.prototype._createDefaultObjectsAndAttributes=function(){this._createFill();this._setClientNumMin(this.getDefaultClientNumMin());this._setClientNumMax(this.getDefaultClientNumMax());this._setClientNumCurrent(this.getDefaultClientNumCurrent());this._setInitialHeight(this.getDefaultInitialHeight())}; ProgressbarFilling.prototype._createFill=function(){var a=this.progressbarObject.getProgressbarOutlineImgName();this._setFillMinYOffset(a);this._setFillMaxYOffset(a);this.fillObj=new Kinetic.Rect({x:this.getDefaultFillXOffset(),y:this.getDefaultFillYOffset(),width:this.getDefaultFillWidth(),height:this.getDefaultFillHeight(),fill:this.getDefaultFillColor(),name:this.getDefaultFillName(),draggable:!1});this.progressbarObject.addToProgressbarObjGroup(this.getFillObject())}; ProgressbarFilling.prototype._clientSetFillHeight=function(a){this._setFillHeight(this.getClientNumToFillHeight(a))};ProgressbarFilling.prototype._setClientNumCurrent=function(a){a<this.getClientNumMin()?a=this.getClientNumMin():a>this.getClientNumMax()&&(a=this.getClientNumMax());this.clientNumCurrent=a};ProgressbarFilling.prototype._setClientNumMax=function(a){this.clientNumMax=a};ProgressbarFilling.prototype._setClientNumMin=function(a){this.clientNumMin=a}; ProgressbarFilling.prototype._setDynamicallyCreatedAttributes=function(){this._setInitialHeight(this.getClientNumCurrent());this._clientSetFillHeight(this.getClientNumCurrent())};ProgressbarFilling.prototype._setFillColor=function(a){this.fillObj.setFill(a)};ProgressbarFilling.prototype._setFillHeight=function(a){a=Math.abs(a);var b=-1*a;a>this.getFillMaxYOffset()?b=-1*this.getFillMaxYOffset():a<this.getFillMinYOffset()&&(b=-1*this.getFillMinYOffset());this.fillObj.setHeight(b)}; ProgressbarFilling.prototype._setFillMinYOffset=function(a){this.fillMinYOffset=this.getFillMinYOffset(a)};ProgressbarFilling.prototype._setFillMaxYOffset=function(a){this.getFillMaxYOffset(a);this.fillMaxYOffset=this.getFillMaxYOffset(a)};ProgressbarFilling.prototype._setFillObject=function(a){this.fillObj=a};ProgressbarFilling.prototype._setFillSize=function(a,b){this.fillObj.setSize(a,b)};ProgressbarFilling.prototype._setFillWidth=function(a){this.fillObj.setWidth(a)}; ProgressbarFilling.prototype._setInitialHeight=function(a){this.initialHeight=this.getClientNumToFillHeight(a)};ProgressbarFilling.prototype._setName=function(a){this.fillObj.setName(a)};ProgressbarFilling.prototype._setProgressbarObject=function(a){this.progressbarObject=a}; ProgressbarFilling.prototype._setUserAttributes=function(a){void 0!=a&&(0<=a.clientNumMin&&this._setClientNumMin(a.clientNumMin),0<=a.clientNumMax&&this._setClientNumMax(a.clientNumMax),0<=a.clientNumCurrent&&this._setClientNumCurrent(a.clientNumCurrent),a.fillColor&&this._setFillColor(a.fillColor),a.nameID&&this._setName(a.nameID),a.xOffset&&this._setXOffset(a.xOffset),a.fillWidth&&this._setFillWidth(a.fillWidth),a.yOffset&&this._setYOffset(a.yOffset),a.initialHeight&&this._setInitialHeight(a.initialHeight))}; ProgressbarFilling.prototype._setYOffset=function(a){this._setFillMinYOffset(a)};ProgressbarFilling.prototype._setXOffset=function(a){this.fillObj.setX(a)};function TicksOrganizer(a,b){this.progressbarObject=a;this._createDefaultAttributes();this._setUserAttributes(b);this._createTickObjects();this._addAndDrawTicks()}TicksOrganizer.prototype.getColor=function(){return this.getFillColor()};TicksOrganizer.prototype.getDefaultFillColor=function(){return"black"}; TicksOrganizer.prototype.getDefaultMaxStrokeWidth=function(){return 2};TicksOrganizer.prototype.getDefaultName=function(){return"tick"};TicksOrganizer.prototype.getDefaultNumTicks=function(){return 10};TicksOrganizer.prototype.getDefaultTickHeight=function(){return 1};TicksOrganizer.prototype.getDefaultTickStroke=function(){return"#666"};TicksOrganizer.prototype.getDefaultTickWidth=function(){return 10};TicksOrganizer.prototype.getFillColor=function(){return this.fillColor}; TicksOrganizer.prototype.getGroup=function(){return this.progressbarObject.getProgressbarGroup()};TicksOrganizer.prototype.getMaxStrokeWidth=function(){return this.maxStrokeWidth};TicksOrganizer.prototype.getMaxTickWidth=function(){return this.maxTickWidth};TicksOrganizer.prototype.getMaxTickHeight=function(){return this.maxTickHeight};TicksOrganizer.prototype.getNumTicks=function(){return this.numTicks}; TicksOrganizer.prototype.getTickMaxY=function(a){return"images/thermometer.png"==a||"images/thermometer3.png"==a||"http://progressbar-io.googlecode.com/files/thermometer3.png"==a?370*(this.progressbarObject.getProgressbarHeight()/400):0};TicksOrganizer.prototype.getTickOrganizerYMax=function(){return this.tickOrganizerYMax};TicksOrganizer.prototype.getTickOrganizerName=function(){return this.tickOrganizerName};TicksOrganizer.prototype.getTickOrganizerXOffset=function(){return this.tickOrganizerXOffset}; TicksOrganizer.prototype.getTickOrganizerYOffset=function(){return this.tickOrganizerYOffset};TicksOrganizer.prototype.getTickStroke=function(){return this.tickStroke};TicksOrganizer.prototype.getTickYOffset=function(a){return"images/thermometer.png"==a||"images/thermometer3.png"==a||"http://progressbar-io.googlecode.com/files/thermometer3.png"==a?105*(this.progressbarObject.getProgressbarHeight()/400):0}; TicksOrganizer.prototype.getTickXOffset=function(a){return"images/thermometer.png"==a||"images/thermometer3.png"==a||"http://progressbar-io.googlecode.com/files/thermometer3.png"==a?95*(this.progressbarObject.getProgressbarWidth()/250):0};TicksOrganizer.prototype.addToGroup=function(a){this.getGroup().add(a)};TicksOrganizer.prototype.addToTicksAndRedraw=function(a){a=this.getNumTicks()+a;this._setTickAndRedraw(a)}; TicksOrganizer.prototype.appendToTickArray=function(a){this.tickArray[this.tickArray.length]=a};TicksOrganizer.prototype.setUserAttributes=function(a){this._setUserAttributes(a)};TicksOrganizer.prototype._addAndDrawTicks=function(){for(var a=(this.getTickOrganizerYMax()-this.getTickOrganizerYOffset())/(this.getNumTicks()-1),b=0;b<this.getNumTicks();b++){var c={};c.yOffset=-1*a*b-this.getTickOrganizerYOffset();this.appendToTickArray(new Tick(this,c))}}; TicksOrganizer.prototype._clearTicks=function(){for(var a=this.getNumTicks(),b=0;b<a;b++)this.tickArray[b].removeTick();this._clearTicksArray()};TicksOrganizer.prototype._clearTicksArray=function(){this.tickArray=[]}; TicksOrganizer.prototype._createDefaultAttributes=function(){var a=this.progressbarObject.getProgressbarOutlineImgName();this._setTickOrganizerXOffset(this.getTickXOffset(a));this._setTickOrganizerYOffset(this.getTickYOffset(a));this._setTickOrganizerYMax(this.getTickMaxY(a));this._setMaxTickWidth(this.getDefaultTickWidth());this._setMaxTickHeight(this.getDefaultTickHeight());this._setTickStroke(this.getDefaultTickStroke());this._setFillColor(this.getDefaultFillColor());this._setMaxStrokeWidth(this.getDefaultMaxStrokeWidth()); this._setTickOrganizerName(this.getDefaultName());this._setNumTicks(this.getDefaultNumTicks())};TicksOrganizer.prototype._createTickObjects=function(){this.tickArray=[]};TicksOrganizer.prototype._setFillColor=function(a){this.fillColor=a};TicksOrganizer.prototype._setMaxStrokeWidth=function(a){this.maxStrokeWidth=a};TicksOrganizer.prototype._setMaxTickHeight=function(a){this.maxTickHeight=a};TicksOrganizer.prototype._setMaxTickWidth=function(a){this.maxTickWidth=a}; TicksOrganizer.prototype._setNumTicks=function(a){this.numTicks=a};TicksOrganizer.prototype._setTickAndRedraw=function(a){this._clearTicks();this._setNumTicks(a);this._addAndDrawTicks()};TicksOrganizer.prototype._setTickOrganizerName=function(a){this.tickOrganizerName=a};TicksOrganizer.prototype._setTickOrganizerXOffset=function(a){this.tickOrganizerXOffset=a};TicksOrganizer.prototype._setTickOrganizerYMax=function(a){this.tickOrganizerYMax=a}; TicksOrganizer.prototype._setTickOrganizerYOffset=function(a){this.tickOrganizerYOffset=a};TicksOrganizer.prototype._setTickStroke=function(a){this.tickStroke=a}; TicksOrganizer.prototype._setUserAttributes=function(a){void 0!=a&&(a.tickOrganizerXOffset&&this._setTickOrganizerXOffset(a.tickOrganizerXOffset),a.tickOrganizerYOffset&&this._setTickOrganizerYOffset(a.tickOrganizerYOffset),a.maxTickWidth&&this._setMaxTickWidth(a.maxTickWidth),a.maxTickHeight&&this._setMaxTickHeight(a.maxTickHeight),a.tickStroke&&this._setTickStroke(a.tickStroke),a.fillColor&&this._setFillColor(a.fillColor),a.maxStrokeWidth&&this._setMaxStrokeWidth(a.maxStrokeWidth),a.tickOrganizerName&& this._setTickOrganizerName(a.tickOrganizerName),a.numTicks&&this._setNumTicks(a.numTicks))};function Tick(a,b){this._setTickOrganizer(a);this._createDefaultAttributes(a);this._setUserAttributes(b);this._addToTickOrganizerGroup(this._getTickObject())}Tick.prototype.getColor=function(){return this.tick.getFill()};Tick.prototype.getDefaultFill=function(){return this.tickOrganizer.getFillColor()};Tick.prototype.getDefaultFillColor=function(){return this.getDefaultFill()}; Tick.prototype.getDefaultHeight=function(){return this.tickOrganizer.getMaxTickHeight()};Tick.prototype.getDefaultStrokeWidth=function(){return this.tickOrganizer.getMaxStrokeWidth()};Tick.prototype.getDefaultWidth=function(){return this.tickOrganizer.getMaxTickWidth()};Tick.prototype.getDefaultName=function(){return this.tickOrganizer.getTickOrganizerName()};Tick.prototype.getDefaultStroke=function(){return this.tickOrganizer.getTickStroke()};Tick.prototype.getDefaultXOffset=function(){return this.tickOrganizer.getTickOrganizerXOffset()}; Tick.prototype.getDefaultYOffset=function(){return this.tickOrganizer.getTickOrganizerYOffset()};Tick.prototype.getHeight=function(){return this.tick.getHeight()};Tick.prototype.getName=function(){return this.tick.getName()};Tick.prototype.getStroke=function(){return this.tick.getStroke()};Tick.prototype.getStrokeWidth=function(){return this.tick.getStrokeWidth()};Tick.prototype.getWidth=function(){return this.tick.getWidth()};Tick.prototype.getXOffset=function(){return this.tick.getX()}; Tick.prototype.getYOffset=function(){return this.tick.getY()};Tick.prototype.removeTick=function(){this.tick.remove()};Tick.prototype.setFill=function(a){return this.tick.setFill(a)};Tick.prototype.setHeight=function(a){return this.tick.setHeight(a)};Tick.prototype.setName=function(a){return this.tick.setName(a)};Tick.prototype.setStroke=function(a){return this.tick.setStroke(a)};Tick.prototype.setStrokeWidth=function(a){return this.tick.setStrokeWidth(a)};Tick.prototype.setWidth=function(a){return this.tick.setWidth(a)}; Tick.prototype.setXOffset=function(a){this.tick.setX(a)};Tick.prototype.setYOffset=function(a){return this.tick.setY(a)};Tick.prototype._getTickObject=function(){return this.tick};Tick.prototype._getTickOrganizer=function(){return this.tickOrganizer};Tick.prototype._addToTickOrganizerGroup=function(a){tickOrganizer=this._getTickOrganizer();tickOrganizer.addToGroup(a)}; Tick.prototype._createDefaultAttributes=function(){this.tick=new Kinetic.Rect({x:this.getDefaultXOffset(),y:this.getDefaultYOffset(),width:this.getDefaultWidth(),height:this.getDefaultHeight(),stroke:this.getDefaultStroke(),fill:this.getDefaultFillColor(),strokeWidth:this.getDefaultStrokeWidth(),name:this.getDefaultName()})};Tick.prototype._setTickOrganizer=function(a){this.tickOrganizer=a}; Tick.prototype._setUserAttributes=function(a){a.xOffset&&this.setXOffset(a.xOffset);a.yOffset&&this.setYOffset(a.yOffset);a.width&&this.setWidth(a.width);a.height&&this.setHeight(a.height);a.stroke&&this.setStroke(a.stroke);a.fill&&this.setFill(a.fill);a.strokeWidth&&this.setStrokeWidth(a.strokeWidth);a.name&&this.setName(a.name)}; function ProgressbarObject(a,b){this._setProgressbarContainer(a);this._createDefaultAttributes();this._setUserAttributes(b);this._createSubObjects(b);this._loadImage()}ProgressbarObject.prototype.getAdjustedProgressbarHeightMax=function(){return this.progressbarContainer.getAdjustedProgressbarHeightMax()};ProgressbarObject.prototype.getAdjustedProgressbarHeightMin=function(){return this.progressbarContainer.getAdjustedProgressbarHeightMin()};ProgressbarObject.prototype.getDefaultImageSrc=function(){return"http://progressbar-io.googlecode.com/files/thermometer3.png"}; ProgressbarObject.prototype.getImageObj=function(){return this.imageObj};ProgressbarObject.prototype.getProgressbarContainer=function(){return this.progressbarContainer};ProgressbarObject.prototype.getProgressbarFilling=function(){return this.progressbarFilling};ProgressbarObject.prototype.getProgressbarGroup=function(){return this.progressbarContainer.getProgressbarGroup()};ProgressbarObject.prototype.getProgressbarHeight=function(){return this.progressbarContainer.getProgressbarHeight()}; ProgressbarObject.prototype.getProgressbarImgName=function(){return this.getProgressbarOutlineImgName()};ProgressbarObject.prototype.getProgressbarOutline=function(){return this.progressbarOutline};ProgressbarObject.prototype.getProgressbarOutlineImgName=function(){return this.progressbarImgName};ProgressbarObject.prototype.getProgressbarTicks=function(){return this.getTicksOrganizer()};ProgressbarObject.prototype.getProgressbarWidth=function(){return this.progressbarContainer.getProgressbarWidth()}; ProgressbarObject.prototype.getTicksOrganizer=function(){return this.ticksOrganizer};ProgressbarObject.prototype.addToProgressbarObjGroup=function(a){this.progressbarContainer.addToProgressbarGroup(a)};ProgressbarObject.prototype.setProgressbarObject=function(a){this._setUserAttributes(a)};ProgressbarObject.prototype._setProgressbarOutline=function(a){this.progressbarOutline=a};ProgressbarObject.prototype.setProgressbarOutlineImgName=function(a){this.progressbarImgName=a}; ProgressbarObject.prototype.setUserAttributes=function(a){this._setUserAttributes(a);this.progressbarFilling.setUserAttributes(a.progressbarFillDetails);this.ticksOrganizer.setUserAttributes(a.tickDetails)};ProgressbarObject.prototype._createDefaultAttributes=function(){this._createImgObj(this.getDefaultImageSrc())};ProgressbarObject.prototype._createImgObj=function(a){this.setProgressbarOutlineImgName(a);this.imageObj=new Image}; ProgressbarObject.prototype._createProgressbarFilling=function(a){this.progressbarFilling=new ProgressbarFilling(this,a)};ProgressbarObject.prototype._createProgressbarOutline=function(){this.progressbarOutline=new Kinetic.Image({x:0,y:this.progressbarContainer.progressbarYOffset,image:this.getImageObj(),width:this.progressbarContainer.getProgressbarWidth(),height:this.progressbarContainer.getProgressbarHeight()});this.addToProgressbarObjGroup(this.getProgressbarOutline())}; ProgressbarObject.prototype._createProgressbarTicks=function(a){this.ticksOrganizer=new TicksOrganizer(this,a)};ProgressbarObject.prototype._createSubObjects=function(a){this._createProgressbarOutline();this._createProgressbarFilling(a.progressbarFillDetails);this._createProgressbarTicks(a.tickDetails)};ProgressbarObject.prototype._loadImage=function(){var a=this;this.imageObj.onload=function(){a._loadZIndexes();a.progressbarContainer.drawStage()};this.imageObj.src=this.getProgressbarOutlineImgName()}; ProgressbarObject.prototype._loadZIndexes=function(){this.progressbarOutline.setZIndex(1)};ProgressbarObject.prototype._setProgressbarContainer=function(a){this.progressbarContainer=a};ProgressbarObject.prototype._setProgressbarFilling=function(a){this.progressbarFilling=a};ProgressbarObject.prototype.setProgressbarImgName=function(a){this.setProgressbarOutlineImgName(a)};ProgressbarObject.prototype._setTicksOrganizer=function(a){this.ticksOrganizer=a}; ProgressbarObject.prototype._setUserAttributes=function(a){void 0!=a&&a.progressbarImgName&&this.setProgressbarOutlineImgName(a.progressbarImgName)};function ProgressbarContainer(a,b){this._setProgressbar(a);this._createDefaultAttributes();this._setUserAttributes(b);this._setVariableSpecificAttributes();this._createProgressbarGroup();this._createSubObjects(b)}ProgressbarContainer.prototype.drawStage=function(){this.progressbar.stage.draw()}; ProgressbarContainer.prototype.getAdjustedProgressbarHeightMax=function(){return this.adjustedProgressbarHeightMax};ProgressbarContainer.prototype.getAdjustedProgressbarHeightMin=function(){return this.adjustedProgressbarHeightMin};ProgressbarContainer.prototype.getAdjustedProgressbarWidthMin=function(){return this.adjustedProgressbarWidthMin};ProgressbarContainer.prototype.getBeginningProgressbarHeight=function(){return this.beginningProgressbarHeight}; ProgressbarContainer.prototype.getContainerHeightPercent=function(){return this.containerHeightPercent};ProgressbarContainer.prototype.getDefaultMarginBottomPercent=function(){return 0.1};ProgressbarContainer.prototype.getDefaultMarginLeftPercent=function(){return 0.1};ProgressbarContainer.prototype.getDefaultMarginRightPercent=function(){return 0.1};ProgressbarContainer.prototype.getDefaultMarginTopPercent=function(){return 0.1};ProgressbarContainer.prototype.getErrorMargin=function(){return this.marginForError}; ProgressbarContainer.prototype.getProgressbarGroup=function(){return this.progressbarGroup};ProgressbarContainer.prototype.getProgressbarHeight=function(){return this.progressbarHeight};ProgressbarContainer.prototype.getProgressbarWidth=function(){return this.progressbarWidth};ProgressbarContainer.prototype.getProgressbarYOffset=function(){return this.progressbarYOffset};ProgressbarContainer.prototype.getMarginBottomPercent=function(){return this.bottomMarginPercent}; ProgressbarContainer.prototype.getMarginLeftPercent=function(){return this.leftMarginPercent};ProgressbarContainer.prototype.getMarginRightPercent=function(){return this.rightMarginPercent};ProgressbarContainer.prototype.getMarginTopPercent=function(){return this.topMarginPercent};ProgressbarContainer.prototype.addToProgressbarGroup=function(a){this.progressbarGroup.add(a)};ProgressbarContainer.prototype.addToShapesLayer=function(a){this.progressbar.shapesLayer.add(a)}; ProgressbarContainer.prototype.clientSetFillHeight=function(a){this.progressbarObject.clientSetFillHeight(a)};ProgressbarContainer.prototype.setAdjustedProgressbarHeightMax=function(a){this.adjustedProgressbarHeightMax=a};ProgressbarContainer.prototype.setAdjustedProgressbarHeightMin=function(a){this.adjustedProgressbarHeightMin=a};ProgressbarContainer.prototype.setAdjustedProgressbarWidthMin=function(a){this.adjustedProgressbarWidthMin=a}; ProgressbarContainer.prototype.setBeginningProgressbarHeight=function(a){this.beginningProgressbarHeight=a};ProgressbarContainer.prototype.setContainerHeightPercent=function(a){this.containerHeightPercent=a};ProgressbarContainer.prototype.setErrorMargin=function(a){this.marginForError=a};ProgressbarContainer.prototype.setMarginBottomPercent=function(a){this.bottomMarginPercent=a};ProgressbarContainer.prototype.setMarginLeftPercent=function(a){this.leftMarginPercent=a}; ProgressbarContainer.prototype.setMarginRightPercent=function(a){this.rightMarginPercent=a};ProgressbarContainer.prototype.setMarginTopPercent=function(a){this.topMarginPercent=a};ProgressbarContainer.prototype.setProgressbarHeight=function(a){this.progressbarHeight=a};ProgressbarContainer.prototype.setProgressbarWidth=function(a){this.progressbarWidth=a};ProgressbarContainer.prototype.setProgressbarYOffset=function(a){this.progressbarYOffset=a}; ProgressbarContainer.prototype.setUserAttributes=function(a){this._setUserAttributes(a);this.progressbarObject.setUserAttributes(a)};ProgressbarContainer.prototype._createDefaultAttributes=function(){this.setMarginBottomPercent(this.getDefaultMarginBottomPercent());this.setMarginLeftPercent(this.getDefaultMarginLeftPercent());this.setMarginRightPercent(this.getDefaultMarginRightPercent());this.setMarginTopPercent(this.getDefaultMarginTopPercent())}; ProgressbarContainer.prototype._createProgressbarGroup=function(){this.progressbarGroup=new Kinetic.Group({x:this.getProgressbarWidth(),y:this.getProgressbarHeight()/(1-this.getMarginTopPercent()),draggable:!1});this.addToShapesLayer(this.progressbarGroup)}; ProgressbarContainer.prototype._createSubObjects=function(a){this.progressbarObject=new ProgressbarObject(this,a);this.progressbarOutline=this.progressbarObject.getProgressbarOutline();this.progressbarFilling=this.progressbarObject.getProgressbarFilling();this.progressbarTicksOrgainzer=this.progressbarObject.getTicksOrganizer()};ProgressbarContainer.prototype._setProgressbar=function(a){this.progressbar=a};ProgressbarContainer.prototype._setUserAttributes=function(){}; ProgressbarContainer.prototype._setVariableSpecificAttributes=function(){this.setContainerHeightPercent(1-this.getMarginTopPercent()-this.getMarginBottomPercent());this.setProgressbarHeight(this.progressbar.getStageHeight()*this.getContainerHeightPercent());this.setProgressbarWidth(0.5*this.progressbar.getStageWidth());this.setProgressbarYOffset(-1*this.getProgressbarHeight());this.setErrorMargin(1);this.setAdjustedProgressbarWidthMin(0);this.setAdjustedProgressbarHeightMax(this.getProgressbarHeight()- 2*this.getErrorMargin());this.setAdjustedProgressbarHeightMin(0-this.getErrorMargin());this.setBeginningProgressbarHeight(this.getAdjustedProgressbarHeightMax())};function Progressbar(a){this._setDefaultAttributes(a);this._createStageAndLayer();this._createDefaultAttributes();this._setUserAttributes(a);this._createSubObjects(a)}Progressbar.prototype.getClientNumCurrent=function(){return this.progressbarContainer.progressbarFilling.getClientNumCurrent()};Progressbar.prototype.getClientNumMax=function(){return this.progressbarContainer.progressbarFilling.getClientNumMax()}; Progressbar.prototype.getClientNumMin=function(){return this.progressbarContainer.progressbarFilling.getClientNumMin()};Progressbar.prototype.getInversePercentComplete=function(){return 100-this.progressbarContainer.progressbarFilling.getCurrentPercent()};Progressbar.prototype.getPercentComplete=function(){return this.progressbarContainer.progressbarFilling.getCurrentPercent()};Progressbar.prototype.addToCurrent=function(){}; Progressbar.prototype.addToClientNumCurrent=function(a){this.progressbarContainer.progressbarFilling.addToClientNumCurrent(a);this.messagesContainer.updateMessagesText()};Progressbar.prototype.addToStage=function(a){this.stage.add(a)};Progressbar.prototype.setClientNumCurrent=function(a){this.progressbarContainer.progressbarFilling.setClientNumCurrent(a);this.messagesContainer.updateMessagesText();this.progressbarContainer.drawStage()}; Progressbar.prototype.setMarginBottomPercent=function(a){this.bottomMarginPercent=a};Progressbar.prototype.setMarginLeftPercent=function(a){this.leftMarginPercent=a};Progressbar.prototype.setMarginRightPercent=function(a){this.rightMarginPercent=a};Progressbar.prototype.setMarginTopPercent=function(a){this.topMarginPercent=a};Progressbar.prototype.setMaximumValue=function(a){this.progressbarContainer.progressbarFilling.setClientNumMax(a);this.messagesContainer.updateMessagesText();this.progressbarContainer.drawStage()}; Progressbar.prototype.setNumTicks=function(){};Progressbar.prototype.setStage=function(a){this.stage=a};Progressbar.prototype.setStageContainerID=function(a){this.getStage().setContainer(a)};Progressbar.prototype.setStageHeight=function(a){this.stageHeight=a};Progressbar.prototype.setStageWidth=function(a){this.stageWidth=a};Progressbar.prototype.setUserAttributes=function(a){this._setUserAttributes(a);this.progressbarContainer.setUserAttributes(a)};Progressbar.prototype.getDefaultHeight=function(){return this.defaultStageHeight}; Progressbar.prototype.getDefaultID=function(){return this.defaultStageContainerID};Progressbar.prototype.getDefaultWidth=function(){return this.defaultStageWidth};Progressbar.prototype.getDefaultMarginBottomPercent=function(){return 0.1};Progressbar.prototype.getDefaultMarginLeftPercent=function(){return 0};Progressbar.prototype.getDefaultMarginRightPercent=function(){return 0};Progressbar.prototype.getDefaultMarginTopPercent=function(){return 0.1};Progressbar.prototype.getMarginBottomPercent=function(){return this.bottomMarginPercent}; Progressbar.prototype.getMarginLeftPercent=function(){return this.leftMarginPercent};Progressbar.prototype.getMarginRightPercent=function(){return this.rightMarginPercent};Progressbar.prototype.getMarginTopPercent=function(){return this.topMarginPercent};Progressbar.prototype.getStage=function(){return this.stage};Progressbar.prototype.getStageWidth=function(){return this.getStage().getWidth()};Progressbar.prototype.getStageHeight=function(){return this.getStage().getHeight()}; Progressbar.prototype.getStageContainerID=function(){return this.stageContainerID};Progressbar.prototype._createDefaultAttributes=function(){this.setStageHeight(this.getDefaultHeight());this.setStageWidth(this.getDefaultWidth());this.setStageContainerID(this.getDefaultID());this.setMarginTopPercent(this.getDefaultMarginTopPercent());this.setMarginBottomPercent(this.getDefaultMarginBottomPercent());this.setMarginRightPercent(this.getDefaultMarginRightPercent());this.setMarginLeftPercent(this.getDefaultMarginLeftPercent())}; Progressbar.prototype._createStage=function(){var a=new Kinetic.Stage({container:this.getDefaultID(),width:this.getDefaultWidth(),height:this.getDefaultHeight()});this.setStage(a)};Progressbar.prototype._createStageAndLayer=function(){this._createStage();this._createShapeLayer()};Progressbar.prototype._createShapeLayer=function(){this.shapesLayer=new Kinetic.Layer;this.addToStage(this.shapesLayer)}; Progressbar.prototype._createSubObjects=function(a){this.progressbarContainer=new ProgressbarContainer(this,a);this.messagesContainer=new MessagesContainer(this,a.messages,0,0)};Progressbar.prototype._setUserAttributes=function(a){a.topMarginPercent&&this.setMarginTopPercent(a.topMarginPercent);a.bottomMarginPercent&&this.setMarginBottomPercent(a.bottomMarginPercent);a.rightMarginPercent&&this.setMarginRightPercent(a.rightMarginPercent);a.leftMarginPercent&&this.setMarginLeftPercent(a.leftMarginPercent)}; Progressbar.prototype._setDefaultAttributes=function(a){this.defaultStageContainerID="container";this.defaultStageWidth=this.defaultStageHeight=500;a.stageContainerID&&(this.defaultStageContainerID=a.stageContainerID);a.stageHeight&&(this.defaultStageHeight=a.stageHeight);a.stageWidth&&(this.defaultStageWidth=a.stageWidth)};